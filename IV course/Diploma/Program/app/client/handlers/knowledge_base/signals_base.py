from app.client.bot.bot import bot
from telebot import types
from app.client.handlers.utils.message_utils import send_or_edit_message
from app.client.handlers.knowledge_base.back_handler import back_to_knowledge_base


@bot.callback_query_handler(func=lambda call: call.data == 'base_signals')
def base_signals_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –æ —Å–∏–≥–Ω–∞–ª–∞—Ö –∏ –∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.
    """
    chat_id = call.message.chat.id
    
    text = [
        f'üö® *–†–ê–ó–î–ï–õ: –°–ò–ì–ù–ê–õ–´ –ò –ò–• –ù–ê–°–¢–†–û–ô–ö–ê*\n\n'
        f'–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏–≥–Ω–∞–ª–∞—Ö –∏ –∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.\n',
    ]

    inline_keyboard = types.InlineKeyboardMarkup()
    
    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ —Å–∏–≥–Ω–∞–ª–∞
    buttons = [
        types.InlineKeyboardButton(text='RSI üìä', callback_data='base_rsi'),
        types.InlineKeyboardButton(text='SMA üìà', callback_data='base_sma'),
        types.InlineKeyboardButton(text='EMA üìâ', callback_data='base_ema'),
        types.InlineKeyboardButton(text='Alligator üêä', callback_data='base_alligator'),
        types.InlineKeyboardButton(text='Bollinger üìä', callback_data='base_bollinger'),
        types.InlineKeyboardButton(text='MACD üìà', callback_data='base_macd'),
        types.InlineKeyboardButton(text='LSTM üß†', callback_data='base_lstm'),
        types.InlineKeyboardButton(text='GPT ü§ñ', callback_data='base_gpt'),
    ]
    
    # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ 2 –∫–Ω–æ–ø–∫–∏ –≤ —Å—Ç—Ä–æ–∫—É
    for i in range(0, len(buttons), 2):
        if i + 1 < len(buttons):
            inline_keyboard.add(buttons[i], buttons[i+1])
        else:
            inline_keyboard.add(buttons[i])
    
    # –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≤–æ–∑–≤—Ä–∞—Ç–∞
    back_button = types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π', callback_data='back_to_knowledge_base')
    inline_keyboard.add(back_button)
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard)


@bot.callback_query_handler(func=lambda call: call.data == 'base_sma')
def base_sma_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ SMA.
    """
    chat_id = call.message.chat.id
   
    text = [       
        f'üìà *SMA (Simple Moving Average)*\n'
        f'\nSMA (Simple Moving Average) ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–µ–π –≤ —Ç—Ä–µ–Ω–¥–µ.\n'
        f'\n–í –¥–∞–Ω–Ω–æ–º –±–æ—Ç–µ —Å–∏–≥–Ω–∞–ª SMA –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –¥–≤—É—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Å–∫–æ–ª—å–∑—è—â–∏—Ö —Å—Ä–µ–¥–Ω–∏—Ö.\n'
        f'\nüìà –ë—ã—Å—Ç—Ä–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (Fast SMA) ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è, –∫–æ—Ç–æ—Ä–∞—è –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω. –û–Ω–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –º–µ–Ω—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–µ—Ä–∏–æ–¥–æ–≤, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –±–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫ –Ω–µ–¥–∞–≤–Ω–∏–º –¥–≤–∏–∂–µ–Ω–∏—è–º —Ü–µ–Ω.\n'
        f'\nüìä –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (Slow SMA) ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è, –∫–æ—Ç–æ—Ä–∞—è —Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—è –±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–∏–æ–¥–æ–≤. –û–Ω–∞ –º–µ–Ω–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –∫ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–º –∫–æ–ª–µ–±–∞–Ω–∏—è–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—É—á—à–µ –≤—ã—è–≤–ª—è—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏.\n'
        f'\nüîÑ –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–π –∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–∏—Ö –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å —Å–∏–≥–Ω–∞–ª–æ–º –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π: –∫–æ–≥–¥–∞ –±—ã—Å—Ç—Ä–∞—è SMA –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—É—é —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, —ç—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–∏–≥–Ω–∞–ª –ø—Ä–æ–¥–∞–∂–∏, –∞ –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö ‚Äî –Ω–∞ —Å–∏–≥–Ω–∞–ª –ø–æ–∫—É–ø–∫–∏.\n'
        f'\nüîß –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–≥–Ω–∞–ª–∞ SMA:\n'
        f'\n    fastLength: 10\n'
        f'\n    slowLength: 30\n'
    ]

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é —Å–∏–≥–Ω–∞–ª–æ–≤
    inline_keyboard = types.InlineKeyboardMarkup()
    back_button = types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–∏–≥–Ω–∞–ª–∞–º', callback_data='base_signals')
    inline_keyboard.add(back_button)
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard)


@bot.callback_query_handler(func=lambda call: call.data == 'base_ema')
def base_ema_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ EMA.
    """
    chat_id = call.message.chat.id
    
    text = [
        f'üìâ *EMA (Exponential Moving Average)*\n'
        f'\nEMA (Exponential Moving Average) ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Å–ª—è–µ—Ç —Å–∫–æ–ª—å–∑—è—â—É—é —Å—Ä–µ–¥–Ω—é—é, –ø—Ä–∏–¥–∞–≤–∞—è –±–æ–ª—å—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ü–µ–Ω–∞–º. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –±–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Ü–µ–Ω –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å SMA.\n'
        f'\nüîç –í –¥–∞–Ω–Ω–æ–º –±–æ—Ç–µ —Å–∏–≥–Ω–∞–ª EMA —Ç–∞–∫–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –¥–≤—É—Ö —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∫–æ–ª—å–∑—è—â–∏—Ö —Å—Ä–µ–¥–Ω–∏—Ö.\n'
        f'\nüìà –ë—ã—Å—Ç—Ä–∞—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (Fast EMA) ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∞—è EMA, –∫–æ—Ç–æ—Ä–∞—è –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–∏–æ–¥–æ–≤ –∏ –ø—Ä–∏–¥–∞—ë—Ç –±–æ–ª—å—à–∏–π –≤–µ—Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º.\n'
        f'\nüìä –ú–µ–¥–ª–µ–Ω–Ω–∞—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (Slow EMA) ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω–∞—è EMA, –∫–æ—Ç–æ—Ä–∞—è —Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É—è –±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–∏–æ–¥–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—É—á—à–µ –≤—ã—è–≤–ª—è—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã, –Ω–æ –æ–Ω–∞ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è.\n'
        f'\nüîÑ –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–π –∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π EMA –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å —Å–∏–≥–Ω–∞–ª–æ–º –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π: –∫–æ–≥–¥–∞ –±—ã—Å—Ç—Ä–∞—è EMA –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—É—é —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, —ç—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–∏–≥–Ω–∞–ª –ø—Ä–æ–¥–∞–∂–∏, –∞ –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö ‚Äî –Ω–∞ —Å–∏–≥–Ω–∞–ª –ø–æ–∫—É–ø–∫–∏.\n'
        f'\nüîß –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–≥–Ω–∞–ª–∞ EMA:\n'
        f'\n    fastLength: 10\n'
        f'\n    slowLength: 30\n'
    ]

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é —Å–∏–≥–Ω–∞–ª–æ–≤
    inline_keyboard = types.InlineKeyboardMarkup()
    back_button = types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–∏–≥–Ω–∞–ª–∞–º', callback_data='base_signals')
    inline_keyboard.add(back_button)
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard)


@bot.callback_query_handler(func=lambda call: call.data == 'base_rsi')
def base_rsi_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ RSI.
    """
    chat_id = call.message.chat.id
    
    text = [
        f'üìä *RSI (Relative Strength Index)*\n'
        f'\nRSI (Relative Strength Index) ‚Äî —ç—Ç–æ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–º–µ—Ä—è–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω–æ–≤—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ —Ä—ã–Ω–∫–µ.\n'
        f'\nüîç RSI –∫–æ–ª–µ–±–ª–µ—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 0 –¥–æ 100, –∏ –æ–±—ã—á–Ω–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—à–µ 70 —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å, –∞ –Ω–∏–∂–µ 30 ‚Äî –Ω–∞ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å. –≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å —Ç—Ä–µ–π–¥–µ—Ä–∞–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏–ª–∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏.\n'
        f'\nüìà –ß–µ–º –≤—ã—à–µ RSI, —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ –≤–æ—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥, —Ç–æ–≥–¥–∞ –∫–∞–∫ –Ω–∏–∑–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è RSI —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Å–∏–ª—É –Ω–∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–µ–Ω–¥–∞.\n'
        f'\nüîÑ –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ RSI —Å —É—Ä–æ–≤–Ω—è–º–∏ 30 –∏ 70 –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å —Å–∏–≥–Ω–∞–ª–æ–º –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π: –∫–æ–≥–¥–∞ RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å 30 —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö, —ç—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –≤–æ–∑–º–æ–∂–Ω—ã–π —Ä–æ—Å—Ç —Ü–µ–Ω—ã (—Å–∏–≥–Ω–∞–ª –ø–æ–∫—É–ø–∫–∏); –∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è 70 —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ (—Å–∏–≥–Ω–∞–ª –ø—Ä–æ–¥–∞–∂–∏).\n'
        f'\nüîß –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–≥–Ω–∞–ª–∞ RSI:\n'
        f'\n    period: 14 ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–∏–æ–¥–æ–≤, –∑–∞ –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å, –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–∏–ª—É —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–Ω–¥–∞.\n'
        f'\n    highLevel: 70 ‚Äî —É—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏, –≤—ã—à–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –æ–∂–∏–¥–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏—é.\n'
        f'\n    lowLevel: 30 ‚Äî —É—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏, –Ω–∏–∂–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤–æ–∑–º–æ–∂–µ–Ω —Ä–æ—Å—Ç.\n'
    ]

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é —Å–∏–≥–Ω–∞–ª–æ–≤
    inline_keyboard = types.InlineKeyboardMarkup()
    back_button = types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–∏–≥–Ω–∞–ª–∞–º', callback_data='base_signals')
    inline_keyboard.add(back_button)
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard)


@bot.callback_query_handler(func=lambda call: call.data == 'base_alligator')
def base_alligator_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–µ –ê–ª–ª–∏–≥–∞—Ç–æ—Ä.
    """
    chat_id = call.message.chat.id
    
    text = [
        f'üêä *–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ê–ª–ª–∏–≥–∞—Ç–æ—Ä*\n'
        f'\n–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ê–ª–ª–∏–≥–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç—Ä–µ–π–¥–µ—Ä–æ–º –ë–∏–ª–ª–æ–º –£–∏–ª—å—è–º—Å–æ–º. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä—ã–Ω–æ—á–Ω–æ–º —Ç—Ä–µ–Ω–¥–µ, –≤—ã—è–≤–ª—è—è –º–æ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç —Ç—Ä–µ–Ω–¥–æ–≤–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –∫ –±–æ–∫–æ–≤–æ–º—É –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.\n'
        f'\nüîç –ì—Ä–∞—Ñ–∏–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –ª–∏–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–µ —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ (SMA) —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ –∏ —Å–º–µ—â–µ–Ω–∏–µ–º. –í—Å–µ –ª–∏–Ω–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω–µ, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º–æ–π –∫–∞–∫ (High + Low) / 2.\n'
        f'\nüìà –°–∏–Ω—è—è –ª–∏–Ω–∏—è (–ß–µ–ª—é—Å—Ç—å) ‚Äî –ø–µ—Ä–∏–æ–¥ 21, —Å–¥–≤–∏–≥ 8 –±–∞—Ä–æ–≤: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤–∞–∂–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π. –ï—Å–ª–∏ –ª–∏–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∏–∂–µ –≥—Ä–∞—Ñ–∏–∫–∞ —Ü–µ–Ω—ã, —ç—Ç–æ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ –≤–æ—Å—Ö–æ–¥—è—â–µ–º –¥–≤–∏–∂–µ–Ω–∏–∏. –ï—Å–ª–∏ –≤—ã—à–µ, —Ç–æ –æ –Ω–∏—Å—Ö–æ–¥—è—â–µ–º.\n'
        f'\nüìä –ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è (–ó—É–±—ã) ‚Äî –ø–µ—Ä–∏–æ–¥ 11, —Å–¥–≤–∏–≥ 5 –±–∞—Ä–æ–≤: –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â—É—é —Ç–µ–Ω–¥–µ–Ω—Ü–∏—é –Ω–∞ —á–∞—Å–æ–≤–æ–º –≥—Ä–∞—Ñ–∏–∫–µ.\n'
        f'\nüíã –ó–µ–ª–µ–Ω–∞—è –ª–∏–Ω–∏—è (–ì—É–±—ã) ‚Äî –ø–µ—Ä–∏–æ–¥ 8, —Å–¥–≤–∏–≥ 3 –±–∞—Ä–∞: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏ –Ω–∞ –¥–Ω–µ–≤–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞—Ö.\n'
        f'\nüîÑ –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª–∏–Ω–∏–π –º–æ–≥—É—Ç —Å–ª—É–∂–∏—Ç—å —Å–∏–≥–Ω–∞–ª–∞–º–∏ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏: –∫–æ–≥–¥–∞ –≥—É–±—ã –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç –∑—É–±—ã –∏ –∑—É–±—ã –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç —á–µ–ª—é—Å—Ç—å —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö ‚Äî —ç—Ç–æ —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É; –∫–æ–≥–¥–∞ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ ‚Äî —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø—Ä–æ–¥–∞–∂—É.\n'
        f'\nüîß –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–≥–Ω–∞–ª–∞ –ê–ª–ª–∏–≥–∞—Ç–æ—Ä–∞:\n'
        f'\n    jaw_period: 21 ‚Äî –ø–µ—Ä–∏–æ–¥ –¥–ª—è —á–µ–ª—é—Å—Ç–∏.\n'
        f'\n    jaw_shift: 8 ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è —á–µ–ª—é—Å—Ç–∏.\n'
        f'\n    teeth_period: 11 ‚Äî –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∑—É–±–æ–≤.\n'
        f'\n    teeth_shift: 5 ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –∑—É–±–æ–≤.\n'
        f'\n    lips_period: 8 ‚Äî –ø–µ—Ä–∏–æ–¥ –¥–ª—è –≥—É–±.\n'
        f'\n    lips_shift: 3 ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –≥—É–±.\n'
    ]

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é —Å–∏–≥–Ω–∞–ª–æ–≤
    inline_keyboard = types.InlineKeyboardMarkup()
    back_button = types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–∏–≥–Ω–∞–ª–∞–º', callback_data='base_signals')
    inline_keyboard.add(back_button)
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard)


@bot.callback_query_handler(func=lambda call: call.data == 'base_bollinger')
def base_bollinger_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –¥–ª—è —Å–∏–≥–Ω–∞–ª–∞ Bollinger Bands.
    """
    chat_id = call.message.chat.id
    
    inline_keyboard = types.InlineKeyboardMarkup()
    inline_keyboard.add(types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π', callback_data='back_to_kb'))
    
    text = [
        "üö® *Bollinger Bands (–ü–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞)*\n\n",
        "–ü–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞ - —ç—Ç–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –∫–∞–Ω–∞–ª, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Ç—Ä–µ—Ö –ª–∏–Ω–∏–π –≤–æ–∫—Ä—É–≥ —Ü–µ–Ω—ã –∞–∫—Ç–∏–≤–∞.\n\n",
        "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞:\n",
        "‚Ä¢ –°—Ä–µ–¥–Ω—è—è –ª–∏–Ω–∏—è - —ç—Ç–æ –ø—Ä–æ—Å—Ç–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è (SMA)\n",
        "‚Ä¢ –í–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞ - —Å—Ä–µ–¥–Ω—è—è –ª–∏–Ω–∏—è –ø–ª—é—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π\n",
        "‚Ä¢ –ù–∏–∂–Ω—è—è –ø–æ–ª–æ—Å–∞ - —Å—Ä–µ–¥–Ω—è—è –ª–∏–Ω–∏—è –º–∏–Ω—É—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π\n\n",
        "–°–∏–≥–Ω–∞–ª—ã Bollinger Bands:\n",
        "‚Ä¢ –ü–æ–∫—É–ø–∫–∞: –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ –∫–∞—Å–∞–µ—Ç—Å—è –∏–ª–∏ –ø—Ä–æ–±–∏–≤–∞–µ—Ç –Ω–∏–∂–Ω—é—é –ø–æ–ª–æ—Å—É –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è\n",
        "‚Ä¢ –ü—Ä–æ–¥–∞–∂–∞: –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ –∫–∞—Å–∞–µ—Ç—Å—è –∏–ª–∏ –ø—Ä–æ–±–∏–≤–∞–µ—Ç –≤–µ—Ä—Ö–Ω—é—é –ø–æ–ª–æ—Å—É –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è\n\n",
        "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –±–æ—Ç–µ:\n",
        "- Period: –ø–µ—Ä–∏–æ–¥ –¥–ª—è —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–µ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 20)\n",
        "- Deviation: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2)\n",
        "- Type MA: —Ç–∏–ø —Å–∫–æ–ª—å–∑—è—â–µ–π —Å—Ä–µ–¥–Ω–µ–π (SMA, EMA, WMA, DEMA)\n\n",
        "–ü–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –Ω–∞ —Å–ø–æ–∫–æ–π–Ω–æ–º, —Ç–∞–∫ –∏ –Ω–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ–º —Ä—ã–Ω–∫–µ, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏."
    ]
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard, parse_mode='Markdown')


@bot.callback_query_handler(func=lambda call: call.data == 'base_macd')
def base_macd_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –¥–ª—è —Å–∏–≥–Ω–∞–ª–∞ MACD.
    """
    chat_id = call.message.chat.id
    
    inline_keyboard = types.InlineKeyboardMarkup()
    inline_keyboard.add(types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π', callback_data='back_to_kb'))
    
    text = [
        "üö® *MACD (Moving Average Convergence Divergence)*\n\n",
        "MACD - —ç—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É –¥–≤—É–º—è —Å–∫–æ–ª—å–∑—è—â–∏–º–∏ —Å—Ä–µ–¥–Ω–∏–º–∏ —Ü–µ–Ω—ã.\n\n",
        "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç MACD:\n",
        "‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è –ª–∏–Ω–∏—è (Fast Length) - —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–∞—è EMA, –æ–±—ã—á–Ω–æ 12 –ø–µ—Ä–∏–æ–¥–æ–≤\n",
        "‚Ä¢ –ú–µ–¥–ª–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è (Slow Length) - —ç—Ç–æ –¥–ª–∏–Ω–Ω–∞—è EMA, –æ–±—ã—á–Ω–æ 26 –ø–µ—Ä–∏–æ–¥–æ–≤\n",
        "‚Ä¢ –°–∏–≥–Ω–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è (Signal Length) - —ç—Ç–æ EMA –æ—Ç —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É –±—ã—Å—Ç—Ä–æ–π –∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π –ª–∏–Ω–∏—è–º–∏, –æ–±—ã—á–Ω–æ 9 –ø–µ—Ä–∏–æ–¥–æ–≤\n\n",
        "–°–∏–≥–Ω–∞–ª—ã MACD:\n",
        "‚Ä¢ –ü–æ–∫—É–ø–∫–∞: –∫–æ–≥–¥–∞ –±—ã—Å—Ç—Ä–∞—è –ª–∏–Ω–∏—è –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—É—é —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö\n",
        "‚Ä¢ –ü—Ä–æ–¥–∞–∂–∞: –∫–æ–≥–¥–∞ –±—ã—Å—Ç—Ä–∞—è –ª–∏–Ω–∏—è –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—É—é —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑\n\n",
        "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –±–æ—Ç–µ:\n",
        "- Fast Length: –ø–µ—Ä–∏–æ–¥ –±—ã—Å—Ç—Ä–æ–π EMA (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 12)\n",
        "- Slow Length: –ø–µ—Ä–∏–æ–¥ –º–µ–¥–ª–µ–Ω–Ω–æ–π EMA (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 26)\n",
        "- Signal Length: –ø–µ—Ä–∏–æ–¥ –¥–ª—è —Å–∏–≥–Ω–∞–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 9)\n\n",
        "–î–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–∞–∏–ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MACD –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏."
    ]
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard, parse_mode='Markdown')


@bot.callback_query_handler(func=lambda call: call.data == 'base_lstm')
def base_lstm_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ LSTM.
    """
    chat_id = call.message.chat.id
    
    text = [
        f'üß† *LSTM (Long Short-Term Memory)*\n'
        f'\nLSTM ‚Äî —ç—Ç–æ —Ç–∏–ø —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–π –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏ (RNN), —Å–ø–æ—Å–æ–±–Ω–æ–π –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –û–Ω –æ—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ü–µ–Ω—ã –∞–∫—Ü–∏–π.\n'
        f'\nüîç –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ LSTM:\n'
        f'- **–ó–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: LSTM –º–æ–∂–µ—Ç –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ –¥–æ–ª–≥–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–æ—à–ª—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–∏ –±—É–¥—É—â–∏—Ö —Ü–µ–Ω.\n'
        f'- **–°–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –Ω–µ—Ö–≤–∞—Ç–∫–æ–π –¥–∞–Ω–Ω—ã—Ö**: –ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –ø–æ–ª–µ–∑–Ω–æ–π –≤ —É—Å–ª–æ–≤–∏—è—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.\n'
        f'\nüí° –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç LSTM –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω –∞–∫—Ü–∏–π:\n'
        f'1. **–û–±—É—á–µ–Ω–∏–µ**: –ú–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Ü–µ–Ω –∑–∞–∫—Ä—ã—Ç–∏—è –∞–∫—Ü–∏–π, –≥–¥–µ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 60 –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ.\n'
        f'2. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–∞ —Ü–µ–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è.\n'
        f'3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**:\n'
        f'   - **–°–∏–≥–Ω–∞–ª –Ω–∞ –ø–æ–∫—É–ø–∫—É** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π.\n'
        f'   - **–°–∏–≥–Ω–∞–ª –Ω–∞ –ø—Ä–æ–¥–∞–∂—É** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π –∏ –ø—Ä–∏–±—ã–ª—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞.\n'
        f'   - –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Å–∏–≥–Ω–∞–ª –±—É–¥–µ—Ç ¬´–¥–µ—Ä–∂–∞—Ç—å¬ª (hold).\n'
        f'\nüîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –ú–æ–¥–µ–ª—å LSTM –Ω–µ –∏–º–µ–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –æ–Ω–∞ –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Ü–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—É—á–µ–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.\n'
    ]

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é —Å–∏–≥–Ω–∞–ª–æ–≤
    inline_keyboard = types.InlineKeyboardMarkup()
    back_button = types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–∏–≥–Ω–∞–ª–∞–º', callback_data='base_signals')
    inline_keyboard.add(back_button)
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard)


@bot.callback_query_handler(func=lambda call: call.data == 'base_gpt')
def base_gpt_handler(call):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ GPT.
    """
    chat_id = call.message.chat.id
    
    text = [
        f'ü§ñ *GPT (Generative Pre-trained Transformer)*\n'
        f'\nGPT ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å, —Å–ø–æ—Å–æ–±–Ω–∞—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞–Ω–∏—è –∏–∑ –æ–≥—Ä–æ–º–Ω–æ–≥–æ –æ–±—ä—ë–º–∞ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –ø–æ–ª–µ–∑–Ω–æ–π –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö.\n'
        f'\nüîç –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GPT –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:\n'
        f'- **–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö**: –í—ã –º–æ–∂–µ—Ç–µ –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ –∞–Ω–∞–ª–∏–∑, –∏ –º–æ–¥–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.\n'
        f'- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, —É—Ç–æ—á–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.\n'
        f'- **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: GPT —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –ø—Ä–∏–±—ã–ª–∏ –∏ —Ç–∏–∫–µ—Ä–µ, —á—Ç–æ–±—ã –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.\n'
        f'\nüí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPT:\n'
        f'1. **–í–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ —Ä—ã–Ω–∫–∞—Ö, –∞–Ω–∞–ª–∏–∑–µ –∞–∫—Ü–∏–π –∏ –¥—Ä—É–≥–∏—Ö —Ç–µ–º–∞—Ö.\n'
        f'2. **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞**: –ú–æ–¥–µ–ª—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π.\n'
        f'\nüîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: GPT –Ω–µ –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ –≤–≤–æ–¥–∏—Ç—å –ª—é–±—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.\n'
        f'\n‚ö†Ô∏è **–ó–∞–º–µ—á–∞–Ω–∏–µ**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç GPT, —è–≤–ª—è—é—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è –∫–∞–∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã.\n'
    ]

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é —Å–∏–≥–Ω–∞–ª–æ–≤
    inline_keyboard = types.InlineKeyboardMarkup()
    back_button = types.InlineKeyboardButton(text='‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Å–∏–≥–Ω–∞–ª–∞–º', callback_data='base_signals')
    inline_keyboard.add(back_button)
    
    send_or_edit_message(chat_id, ''.join(text), reply_markup=inline_keyboard)








